<html>
	<script>
		coeficientes_datos=[];
		condiciones = [];
		multiplicador = 0;
		raices= [];
		valor = 0;
		divisores=[];
		raices =[];
		
		function crear()
		{
			terminos=document.getElementById("Cantidad").value;
			var tabla = document.getElementById("variables_n");
			var tablaCoeficientes = document.getElementById("coeficientes");
			for(i=0;i<terminos;i++)
			{
				var fila=tabla.insertRow(-1);
					for(j=0;j<2;j++)
					{
						var posicion= ""+i+j;
						var celda_individual=fila.insertCell(-1);
						var  CELDA="<input type=\"int\"";
						CELDA=CELDA+"id=\" "+posicion+"\"";
						CELDA=CELDA+"size=\"5\">";
						celda_individual.innerHTML=CELDA;
					}
			}
			terminos=parseInt(terminos)+1;
			for(i=0;i<terminos;i++)
			{
				var fila2=tablaCoeficientes.insertRow(-1);
					for(j=0;j<1;j++)
					{
						var posicion2= ""+i+j;
						var celda_individual2=fila2.insertCell(-1);
						var  CELDA2="<input type=\"int\"";
						CELDA2=CELDA2+"id=\"A"+posicion2+"\"";
						CELDA2=CELDA2+"size=\"5\">";
						celda_individual2.innerHTML=CELDA2;
					}
			}
		} 
		
		function guardar_coeficientes()
		{
			terminos=document.getElementById("Cantidad").value;
			terminos=parseInt(terminos)+1;
			
			for(i=0;i<terminos;i++)
				{
					for(j=0;j<1;j++)
					{
						var temporal=document.getElementById("A"+i+j).value;
						coeficientes_datos.push(temporal);
					}
				}
			console.log(coeficientes_datos);
			return coeficientes_datos;
		}
		
		function guardar_condiciones()
		{
			terminos=document.getElementById("Cantidad").value;
			
			for(i=0;i<terminos;i++)
				{
					for(j=0;j<2;j++)
					{
						console.log(document.getElementById(" "+i+j));
						var temporal=document.getElementById(" "+i+j).value;
						condiciones.push(temporal);
					}
				}
			console.log(condiciones);
			return coeficientes_datos;
		}
		
		function derivar_funcion(entrada)
		{
			multiplicador = (entrada.length)-1;
			for(i=0;i<entrada.length;i++)
			{
				entrada[i] = entrada[i]* multiplicador;
				multiplicador = multiplicador-1;
			}
			entrada.pop();
			
			return entrada;
		}
		
		
		// Calcula valor X en una funciÃ³n
		
		function calcular_valor(lista, valor)
		{
			potencia = lista.length
			potencia=potencia-1;
			resultado=0;
			for(i=0;i< lista.length;i++)
			{
				elevado =Math.pow(valor, potencia)
				resultado = (lista[i]*elevado)+resultado;
				potencia=potencia-1;
			}
			return resultado;
		}
		
		function calcular_pivote(arreglo)
		{
			numero = 0;
			console.log("L: "+arreglo+" N: "+numero)
			limbo = calcular_valor(arreglo, numero)
			
			console.log("LIMBO0: "+limbo)
			
			if (limbo>0)
			{
				while(limbo>0)
				{
					temporal=numero;
					numero = numero-1;
					limbo = calcular_valor(arreglo,numero);
				}
				return temporal;
			}
			
			if (limbo<0)
			{
				while(limbo<0)
				{
					temporal=numero;
					numero = numero+1;
					limbo = calcular_valor(arreglo,numero);
				}
				return temporal;
			}
			
			if (limbo==0)
			{
				return limbo;
			}
		}
		
		function newton_rhapson(x,y)
		{
			original=y;
			
			console.log("O: "+original)
			numeral =calcular_pivote(x);
			derivada =derivar_funcion(x);
			console.log("O: "+original);
			
			for(var i=0;i<5;i++)
			{
				console.log("FO: "+calcular_valor(original,numeral)+" FD: "+calcular_valor(derivada,numeral)+" Numeral: "+numeral);
				numeral=numeral-(calcular_valor(original,numeral)/calcular_valor(derivada,numeral));
			}
			
			return numeral;
		}
		
		function constructor_funcion()
		{
			crear();
		}
		
		function guardar_funcion()
		{
			guardar_condiciones();
			calcular_raices(guardar_coeficientes());
		}
		
		function funcion_general(x,y)
		{
			raiz = newton_rhapson(x,y);	
		}
		
		function division_sintetica(operacion)
		{
			dividendo = operacion.pop();
			operacion.push(dividendo);
			
			if (dividendo<0)
			{
				dividendo=dividendo*-1;
			}
			
			for(i=1;i<=dividendo;i++)
			{
				console.log("I: "+i+" D: "+dividendo);
				if (dividendo%i==0)
				{
					divisores.push(i);
					menosi=i*-1;
					divisores.push(menosi);
				}
			}
			
			for (j=0;j<divisores.length;j++)
			{
				primerValor = operacion[0]*divisores[j];
				valor=0;
				for(i=1;i<operacion.length;i++)
				{
					valor = operacion[i]+primerValor;
					primerValor = valor*divisores[j];
					
					console.log("O: "+operacion[i]+" D: "+dividendo+" V: "+valor+" DJ: "+divisores[j])
					if (operacion[i]==dividendo && valor==0)
					{
						raices.push(divisores[j]);
					}
				}
			}
			
			console.log("R: "+raices);
		}
		
		function prueba()
		{
			division_sintetica([1,-5,2,8]);
		}
		
	</script>
	<body>
		<input type="text" placeholder="Ingresar el grado de la ecuacion" id="Cantidad"></input>
		<button onclick="constructor_funcion();">Crear</button>
		<button onclick="guardar_funcion();">Guardar</button>
		<button onclick="prueba();">Prueba</button>
		<table id="variables_n"></table>
		COEFICIENTES
		<table id="coeficientes"></table>
	</body>
</html>
