<html>
    <head>
        <title>Determinante de una matriz NxN en javascript</title>
        <meta charset="UTF-8">        
    </head>
	<script>
		var orden =0;
		var matriz_digitada = "";
		var datos_matriz=[]; 
		var datos_matriz_leida=[]; 
		var cantidad_datos=0;
		var iterador=0;
		var espacio="";
		var contador=48;
		var suma = 0;
		var determinante=0;
		var temporal=0;
		
		function createMatriz(size){
			var matriz = new Array(size);
			for (i = 0; i < size ; i++){ 
			  matriz[i]=new Array(size); 
			} 
			return matriz;
		}
		
		/**
		 * calcula el determinante de una matriz NxN
		 * @param {array} matriz matriz a calcular
		 * */
		function calcular_determinante(matriz)
		{                                
			if(matriz.length==2){
				determinante=(matriz[0][0]*matriz[1][1])-(matriz[1][0]*matriz[0][1]);
				contador=48
				return determinante;
			}               
			for(var i = 0; i<matriz.length; i++){
				var nm = createMatriz(matriz.length-1);
				for(var j=0; j<matriz.length; j++){
					if(j!=i)
					{
						for(var k=1; k<matriz.length; k++)
						{
							var indice=-1;
							if(j<i)
							{
								indice=j;
								contador=contador+1;
							}
							else
							{ 
								if(j>i)
								{
									indice=j-1;
									contador=contador+2;
								}
								contador=contador+1;
							}
							nm[indice][k-1] = matriz[j][k];
							contador=contador+6;
						}
						contador=contador+1;
					}
					contador=contador+1;
				}
				if(i%2==0)
				{                            
					suma += matriz[i][0] * calcular_determinante(nm);
					contador=contador+3;
					console.log("SUMA: ", suma," TEMPORAL: ", temporal);
					temporal=temporal+1;
				}                            
				else{                            
					suma -= matriz[i][0] * calcular_determinante(nm);
					contador=contador+3;
					console.log("SUMA: ", suma," TEMPORAL: ", temporal);
					temporal=temporal+1;
				}
				contador=contador+4;
			}
			contador=contador+2;
			determinante= suma;
			return determinante;
		}
		
		function printMatriz(matriz){
			for(var i=0; i<matriz.length; i++){
				document.write("[ ");
				for(var j=0; j<matriz.length; j++){
					document.write(matriz[i][j] + " ");
				}
				document.write(" ]<br/>");            
			}
		}
		
		/* ---------------------------------- */            
			
		function leer_matriz()
		{
			matriz_digitada= document.getElementById("matriz_contenido").value;
			datos_matriz= matriz_digitada.split(espacio);
		}
		
		function guardar_matriz(){
		for (var i=0; i < datos_matriz.length; i++)
		{
			var dato = parseInt(datos_matriz[i], 10);
			if(i%2==0)
			{
				datos_matriz_leida.push(dato);
				cantidad_datos=cantidad_datos+1;
			}
		}
		}	
		
		
		//definimos matriz y datos
		function crear(){
			orden = document.getElementById("orden_Matriz").value;
			var m = createMatriz(orden);            
			
			for (var i=0;i<orden;i++)
			{
				for (var j=0;j<orden;j++)
				{
					m[i][j] = datos_matriz_leida[iterador];
					iterador = iterador+1;
					console.log("Posicion: ",m[i][j]);
				}
			}
			
			//calculamos y mostramos en pantalla
			document.write("Matriz <br/>");
			printMatriz(m);
			var d = calcular_determinante(m);
			document.write("Contador = " + contador+ "<br/>");
			document.write("Determinante = " + d+ "<br/>");
		}
        </script>
	<body>
		<input type="text" placeholder="TamaÃ±o de la matriz" id="orden_Matriz">
		
		<textarea name="comentarios" rows="10" cols="40" placeholder="Digite la matriz" id="matriz_contenido"></textarea>
		
		<button onclick="leer_matriz(); guardar_matriz(); crear()">
    </body>
</html>
