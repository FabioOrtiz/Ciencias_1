<html>
	<head>
	<script>
	var datos_matriz=[];
	var datos_matriz_leida=[];
	var datos_matriz_definitiva=[];
	var matriz_digitada = "";
	var espacio ="";
	var cantidad_datos=0;
	var determinante=0;
	var ancho=0;
	var temporal=0;
	
	function leer_matriz(){
		console.log("Pre_Existo");
		matriz_digitada= document.getElementById("matriz").value;
		datos_matriz= matriz_digitada.split(espacio);
	}
	
	function probar_matriz(){
		for (var i=0; i < datos_matriz_leida.length; i++) 
		{
			document.write(datos_matriz_leida[i]);
		}
		document.write("Determinante: ", determinante);
	}
	
	function guardar_matriz(){
		console.log("Existo");
		for (var i=0; i < datos_matriz.length; i++)
		{
			var dato = parseInt(datos_matriz[i], 10);
			if(datos_matriz[i]!=" ")
			{
				datos_matriz_leida.push(dato);
				cantidad_datos=cantidad_datos+1;
			}
		}
	}
	
	function dividir_Matriz(datos_matriz_leida){
        ancho=Math.pow(cantidad_datos, 0.5);
		var p_temporal=0;
		var corte= ancho;
		
		for (i = 0; i < ancho ; i++){
			datos_matriz_definitiva[i]=  datos_matriz_leida.splice(p_temporal, corte);
			p_temporal=p_temporal+corte;
			corte=corte+corte;
		} 
        return datos_matriz_definitiva;
    }
	
	function createMatriz(size){
		var matriz = new Array(size);
		for (i = 0; i < size ; i++)
		{ 
		  matriz[i]=new Array(size); 
		} 
		return matriz;
    }
	
	function calcular_matriz(datos_matriz_leida){
		ancho=Math.pow(cantidad_datos, 0.5);
		
		if (ancho==2){
			determinante=(datos_matriz_leida[0]*datos_matriz_leida[3])-(datos_matriz_leida[1]*datos_matriz_leida[2]);
		}
		else
		{
			for(var i = 0; i<ancho; i++)
			{
				var nueva_matriz = dividir_Matriz(ancho-1);
				for(var j=0; j<ancho; j++)
				{
					if(j!=i)
					{
						for(var k=1; k<ancho; k++)
						{
							temporal=-1;
							if(j<i)
								temporal=j;
							else if(j>i)
								temporal=j-1;
							nueva_matriz[temporal][k-1] = datos_matriz_leida[j][k];
						}
					}
				}
				if(i%2==0)
				{ 
						determinante += datos_matriz_leida[i][0] * calcular_matriz(nueva_matriz);                            
				}                            
				else
				{                            
					determinante -= datos_matriz_leida[i][0] * calcular_matriz(nueva_matriz);
				}                        
			}
		}
		console.log("Determinante:", determinante);
	}
	
	</script>
	</head>
	<body>
	
	<textarea name="comentarios" rows="10" cols="40" placeholder="Digite la matriz" id="matriz"></textarea>
	
	<br>
	
	<button onclick="leer_matriz(); guardar_matriz(); calcular_matriz()">Calcular</button>
	
	<br>
	
	<button onclick="probar_matriz()">Dibujar</button>
	
	<br>
	
	<table id="Matriz">
	</table>
	
	</body>
</html>		
