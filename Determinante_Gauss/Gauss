<html>
    <head>
        <title>Determinante de una matriz</title>
        <meta charset="UTF-8">        
    </head>
	<script>
		var orden =0;
		var matriz_digitada = "";
		var datos_matriz=[]; 
		var datos_matriz_leida=[]; 
		var cantidad_datos=0;
		var iterador=0;
		var espacio="";
		var contador=48;
		var suma = 0;
		var temporal=0;
		var formula=48;
		
		function createMatriz(size){
			var matriz = new Array(size);
			for (i = 0; i < size ; i++){ 
			  matriz[i]=new Array(size); 
			} 
			return matriz;
		}
		
    function determinante(matriz)
		{                                
			if(matriz.length==2)
			{
				var det=(matriz[0][0]*matriz[1][1])-(matriz[1][0]*matriz[0][1]);
				return det;
            }               
            var suma = 0;
            for(var i = 0; i<matriz.length; i++)
			{
				var nm = createMatriz(matriz.length-1);
				for(var j=0; j<matriz.length; j++)
				{
					if(j!=i)
					{
						for(var k=1; k<matriz.length; k++)
						{
							var indice=-1;
							if(j<i)
								indice=j;
							else if(j>i)
								indice=j-1;
							nm[indice][k-1] = matriz[j][k];
						}
						contador=contador+9;
					}
					contador=contador+2;
				}
					if(i%2==0)
					{                            
						suma += matriz[i][0] * determinante(nm);		
					}                            
					else
					{                            
						suma -= matriz[i][0] * determinante(nm);
					}
				contador=contador+8;
            }
			contador=contador+3;
            return suma;
		}
		
		function printMatriz(matriz){
			for(var i=0; i<matriz.length; i++){
				document.write("[ ");
				for(var j=0; j<matriz.length; j++){
					document.write(matriz[i][j] + " ");
				}
				document.write(" ]<br/>");            
			}
		}
		
		/* ---------------------------------- */            
			
		function leer_matriz()
		{
			matriz_digitada= document.getElementById("matriz_contenido").value;
			datos_matriz= matriz_digitada.split(espacio);
		}
		
		function guardar_matriz(){
		for (var i=0; i < datos_matriz.length; i++)
		{
			var dato = parseInt(datos_matriz[i], 10);
			if(i%2==0)
			{
				datos_matriz_leida.push(dato);
				cantidad_datos=cantidad_datos+1;
			}
		}
		}	
		
		
		function ecuacion_contadores()
		{
			orden = document.getElementById("orden_Matriz").value;
			var estable= 86;
			var estable2=85;
			
			if (orden!=2)
			{
				for (var i=2;i<orden;i++)
				{
					formula=formula+estable;
					estable= estable+ estable2;
					estable2= estable2+32;
				}
				return formula;
			}
			else
			{
				return formula;
			}
		}
		
		//definimos matriz y datos
		function crear(){
			orden = document.getElementById("orden_Matriz").value;
			var m = createMatriz(orden);            
			
			for (var i=0;i<orden;i++)
			{
				for (var j=0;j<orden;j++)
				{
					m[i][j] = datos_matriz_leida[iterador];
					iterador = iterador+1;
				}
			}
			
			//calculamos y mostramos en pantalla
			document.write("Matriz <br/>");
			printMatriz(m);
			var d = determinante(m);
			contador=formula;
			document.write("Contador = " + contador+ "<br/>");
			document.write("Contador por Formula = " + formula+ "<br/>");
			document.write("Determinante = " + d+ "<br/>");
		}
        </script>
	<body>
		<input type="text" placeholder="TamaÃ±o de la matriz" id="orden_Matriz">
		
		<textarea name="comentarios" rows="10" cols="40" placeholder="Digite la matriz" id="matriz_contenido"></textarea>
		
		<button onclick="leer_matriz(); guardar_matriz(); ecuacion_contadores(); crear()">
    </body>
</html>
